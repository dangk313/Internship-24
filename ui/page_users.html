<html>
<body onload="ajax_users_load_list();">
    <hr/>
    <style>
    .menu {
        color           : red;
        background-color: light grey;
        height          :30px;
        width           :90px;
    }
    </style>
    <input type="button" class="menu" value="main"     onclick="window.location.href='http://localhost:8080/ui/main';"/>
    <input type="button" class="menu" value="users"    onclick="window.location.href='http://localhost:8080/ui/users';"/>
    <input type="button" class="menu" value="meetings"    onclick="window.location.href='http://localhost:8080/ui/meetings';"/>
    <hr/>

    <script>
    function ajax_users_load_list() {
        let xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                let responseText   = this.responseText;
                let users          = JSON.parse(responseText);
                array_users        = users;
                let html_table = "<table border=1>";
                for (let user of users) {
                    let html_user_item = "<tr><td>user.id</td><td>user.namel</td><td>user.namef</td><td>user.birth</td></tr>";
                    html_user_item = html_user_item.replace("user.id"   , user.id);
                    html_user_item = html_user_item.replace("user.namel", user.namel);
                    html_user_item = html_user_item.replace("user.namef", user.namef);
                    html_user_item = html_user_item.replace("user.birth", user.birth);
                    html_table += html_user_item;
                }//end for
                html_table += "</table>";
                document.getElementById("html_div_table_users").innerHTML = html_table;
            }//end if
        };
        xhttp.open("GET", "http://localhost:8080/api/users", false);
        xhttp.send();
    }//end function
    </script>

    USERS <br/>
    <div id="html_div_table_users"></div> 
    <button type="button" onclick="ajax_users_load_list();">load users list</button><br/>


    <br/><br/>
    <input type="text" id="user_create_id"    value=""          />id<br/>
    <input type="text" id="user_create_namel" value=""          />last name<br/>
    <input type="text" id="user_create_namef" value=""          />first name<br/>
    <input type="text" id="user_create_birth" value=""          />birth<br/>
    <input type="button" onclick="ajax_user_create(); ajax_users_load_list();" value="user create" /><br/>

    <script>
        function ajax_user_create() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    
                }//end if
            };
            let user = {id:null, namel:null, namef:null, birth:null};
            user.id     = document.getElementById("user_create_id"   ).value;
            user.namel  = document.getElementById("user_create_namel").value;
            user.namef  = document.getElementById("user_create_namef").value;
            user.birth  = document.getElementById("user_create_birth").value;
            let payload = JSON.stringify(user);

            xhttp.open("POST", "http://localhost:8080/api/users", false);
            xhttp.send(payload);
        }
    </script>

    <br/><br/>
    <input type="text" id="user_delete_id"    value=""          />id<br/>
    <input type="button" onclick="ajax_user_delete(); ajax_users_load_list();" value="user delete" /><br/>

    <script>
        function ajax_user_delete() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    
                }//end if
            };
            let user = {id:null, namel:null, namef:null, birth:null};
            user.id     = document.getElementById("user_delete_id"   ).value;
            // user.namel  = document.getElementById("user_de_namel").value;
            // user.namef  = document.getElementById("user_create_namef").value;
            // user.birth  = document.getElementById("user_create_birth").value;
            let payload = JSON.stringify(user);

            xhttp.open("DELETE", "http://localhost:8080/api/users", false);
            xhttp.send(payload);
        }
    </script>

    <br/><br/>
    <input type="text" id="user_update_id"    value=""          />id<br/>
    <input type="text" id="user_update_namel" value=""          />last name<br/>
    <input type="text" id="user_update_namef" value=""          />first name<br/>
    <input type="text" id="user_update_birth" value=""          />birth<br/>
    <input type="button" onclick="ajax_user_update(); ajax_users_load_list();" value="user update" /><br/>

    <script>
        function ajax_user_update() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    
                }//end if
            };
            let user = {id:null, namel:null, namef:null, birth:null};
            user.id     = document.getElementById("user_update_id"   ).value;
            user.namel  = document.getElementById("user_update_namel").value;
            user.namef  = document.getElementById("user_update_namef").value;
            user.birth  = document.getElementById("user_update_birth").value;
            let payload = JSON.stringify(user);

            xhttp.open("PUT", "http://localhost:8080/api/users", false);
            xhttp.send(payload);
        }
    </script>








</body>
</html>

